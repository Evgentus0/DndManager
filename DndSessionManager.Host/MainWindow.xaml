<Window x:Class="DndSessionManager.Host.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DndSessionManager.Host"
        mc:Ignorable="d"
        Title="D&amp;D Session Manager - Host" Height="550" Width="600"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0"
                   Text="D&amp;D Session Manager Server"
                   FontSize="20"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,20"/>

        <!-- Server Status -->
        <StackPanel Grid.Row="1" Margin="0,0,0,10">
            <TextBlock Text="Server Status:" FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBlock x:Name="StatusText"
                       Text="Stopped"
                       FontSize="14"
                       Foreground="Red"
                       Margin="10,0,0,0"/>
        </StackPanel>

        <!-- Port Configuration -->
        <StackPanel Grid.Row="2" Margin="0,0,0,10">
            <TextBlock Text="Server Port:" FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBox x:Name="PortTextBox"
                     Text="5008"
                     FontSize="14"
                     Width="100"
                     HorizontalAlignment="Left"
                     Margin="10,0,0,0"
                     MaxLength="5"/>
        </StackPanel>

        <!-- Access URL -->
        <StackPanel Grid.Row="3" Margin="0,0,0,10">
            <TextBlock Text="Access URLs:" FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBlock x:Name="UrlText"
                       Text="Not available"
                       FontSize="14"
                       TextWrapping="Wrap"
                       Margin="10,0,0,0"/>
        </StackPanel>

        <!-- Health Status -->
        <StackPanel Grid.Row="4" Margin="0,0,0,10">
            <TextBlock Text="Health Status:" FontWeight="Bold" Margin="0,0,0,5"/>
            <StackPanel Orientation="Horizontal" Margin="10,0,0,0">
                <TextBlock Text="Local: " FontSize="14"/>
                <TextBlock x:Name="LocalHealthText"
                           Text="Not tested"
                           FontSize="14"
                           Foreground="Gray"
                           Margin="5,0,15,0"/>
                <TextBlock Text="Network: " FontSize="14"/>
                <TextBlock x:Name="NetworkHealthText"
                           Text="Not tested"
                           FontSize="14"
                           Foreground="Gray"/>
            </StackPanel>
        </StackPanel>

        <!-- Connected Users -->
        <StackPanel Grid.Row="5" Margin="0,0,0,10">
            <TextBlock Text="Connected Users:" FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBlock x:Name="UsersText"
                       Text="0"
                       FontSize="14"
                       Margin="10,0,0,0"/>
        </StackPanel>

        <!-- Buttons -->
        <StackPanel Grid.Row="6" Orientation="Horizontal" Margin="0,10,0,10">
            <Button x:Name="ToggleButton"
                    Content="Start Server"
                    Height="40"
                    Width="200"
                    FontSize="16"
                    FontWeight="Bold"
                    Click="ToggleButton_Click"
                    Margin="0,0,10,0"/>
            <Button x:Name="RemoveFirewallRuleButton"
                    Content="Remove Firewall Rule"
                    Height="40"
                    Width="200"
                    FontSize="14"
                    Click="RemoveFirewallRuleButton_Click"/>
        </StackPanel>

        <!-- Status Messages -->
        <GroupBox Grid.Row="7" Header="Status Messages" Margin="0,10,0,0" MaxHeight="300">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <TextBox x:Name="MessagesText"
                         IsReadOnly="True"
                         TextWrapping="Wrap"
                         Padding="5"
                         BorderThickness="0"
                         Background="Transparent"
                         VerticalScrollBarVisibility="Disabled"/>
            </ScrollViewer>
        </GroupBox>
    </Grid>
</Window>
